<html ng-app="MyApp">
  <head>
	<link rel="stylesheet" type="text/css" href="stylesheets/style.css">
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.22/angular.js"></script>
	<script src="js/randomColor.js"></script>
	<script src="js/Chart.js"></script>
	<script src="js/redditChart.js"></script>
	<script src="js/chartjs-directive.js"></script>
	<script src="js/controllers.js"></script>
  </head>
<body ng-controller="CloudController as cloud">
	<div class="container">
	
		<p>www.reddit.com/u/<input type="text" ng-model="user">/ <button ng-click="createChart(user)">Go</button>
		<button ng-click="colorChart()" ng-show="data" class="respin">Respin</button></p>
		
		<div ng-app="chartjs-directive">
		  <chart value="myChart"></chart>
		</div>
		
		<ul>
			<li ng-repeat="sub in data.datasets" style="background-color:{{sub.pointColor}}" class="subreddit">{{sub.label}} ()</li>
			<ul ng-repeat="sub in data.datasets">
				<li ng-repeat="comment in comments">
					<p>
						<span style="background-color:{{comment.data.color}}" class="subreddit">{{comment.data.subreddit}}</span>
						<a href="{{comment.data.link_url}}">{{comment.data.link_title}}</a>
						<span class="date">{{comment.data.posted}}</span>
					</p>
					<p>{{comment.data.body}}   <a class="perma" href="{{comment.data.link_url+comment.data.id}}">[permalink]</a></p>
				</li>
			</ul>
		</ul>
	</div>
</body>
</html>